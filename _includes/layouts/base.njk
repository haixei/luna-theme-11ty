<!DOCTYPE html>
<html lang="{{ site.meta.lang }}">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{% if title %}{{ title }} | {{ site.meta.title }}{% else %}{{ site.meta.title }}{% endif %}</title>
  <meta name="description" content="{% if description %}{{ description }}{% else %}{{ site.meta.description }}{% endif %}">
  <link rel="stylesheet" href="{{ '/static/css/main.css' | url }}" media="all">
  <link rel="icon" type="image/x-icon" href="https://avatars.githubusercontent.com/u/40209164?v=4">
  <link href="/static/css/prism-theme.css" rel="stylesheet">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;500&display=swap" rel="stylesheet">
</head>
<body data-theme="light" class="preload">
  {% include 'components/search.njk' %}
  {{ content | safe }}
  <script>
  const storedTheme = localStorage.getItem("__theme");
  const button = document.getElementById("themeBtn");
  const sun = document.getElementById("sun");
  const moon = document.getElementById("moon");

  window.__setTheme = function(newTheme) {
    document.body.setAttribute("data-theme", newTheme);
    localStorage.setItem("__theme", newTheme);
  };

  if (storedTheme) {
    window.__setTheme(storedTheme);
  }
  
  button.addEventListener("click", function() {
    if (document.body.dataset.theme === "dark") {
      window.__setTheme("light");
      return;
    }
    window.__setTheme("dark");
  });

  window.addEventListener("load", function() {
    document.body.classList.remove("preload");
  });
  </script>
</body>
</html>
